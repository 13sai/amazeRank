(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c46a6"],{"3b78":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container calendar-list-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"edit"},on:{click:function(e){return t.handleCreate("create")}}},[t._v("添加")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:"tableKey",staticStyle:{width:"100%"},attrs:{data:t.adminList,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.id))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"角色",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.role))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"账号",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"添加时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.created_at))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){return t.handleEdit(e.row,"edit")}}},[t._v("编辑 ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.deleteAdmin(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"管理员",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.temp,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-radio-group",{model:{value:t.temp.role,callback:function(e){t.$set(t.temp,"role",e)},expression:"temp.role"}},[a("el-radio",{attrs:{label:"super"}},[t._v("超级管理员")]),t._v(" "),a("el-radio",{attrs:{label:"admin"}},[t._v("普通管理员")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{model:{value:t.temp.name,callback:function(e){t.$set(t.temp,"name",e)},expression:"temp.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码"}},["create"==t.dialogStatus?a("el-input",{model:{value:t.temp.password,callback:function(e){t.$set(t.temp,"password",e)},expression:"temp.password"}}):a("el-input",{attrs:{placeholder:"不填写密码则不修改密码"},model:{value:t.temp.password,callback:function(e){t.$set(t.temp,"password",e)},expression:"temp.password"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),"create"==t.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("确 定")])],1)],1)],1)},l=[],i=a("b775");function n(t){return Object(i["a"])({url:"/admin/list",method:"get",params:t})}function o(t){return Object(i["a"])({url:"/admin",method:"put",params:t})}function r(t){return Object(i["a"])({url:"/admin",method:"delete",params:t})}function c(t){return Object(i["a"])({url:"/admin",method:"post",params:t})}var d={name:"admin",data:function(){return{adminList:null,dialogFormVisible:!1,temp:{},dialogStatus:null,ip:"",btn:"0"}},created:function(){this.getAdminList()},methods:{getAdminList:function(){var t=this;this.listLoading=!0,n().then((function(e){console.log(e),t.adminList=e.data,t.listLoading=!1}))},handleEdit:function(t,e){this.dialogFormVisible=!0,t.password="",this.temp=t,this.dialogStatus=e},handleCreate:function(t){this.dialogStatus=t,this.dialogFormVisible=!0,this.temp={role:""}},create:function(){var t=this;c(this.temp).then((function(e){console.log(e),0==e.code?(t.$message({message:e.msg,type:"success"}),t.dialogFormVisible=!1,t.getAdminList()):t.$message({message:e.msg,type:"error"})}))},update:function(){var t=this;o(this.temp).then((function(e){console.log(e),0==e.code?(t.$message({message:e.msg,type:"success"}),t.dialogFormVisible=!1,t.getAdminList()):t.$message({message:e.msg,type:"error"})}))},deleteAdmin:function(t){var e=this;r({id:t}).then((function(t){console.log(t),0==t.code?(e.$message({message:t.msg,type:"success"}),e.getAdminList()):e.$message({message:t.msg,type:"error"})}))}}},m=d,u=a("2877"),p=Object(u["a"])(m,s,l,!1,null,null,null);e["default"]=p.exports}}]);